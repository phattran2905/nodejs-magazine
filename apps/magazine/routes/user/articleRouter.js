const router = require('express').Router();
const { checkAuthenticatedAuthor } = require('../../utils/authUtils');
const {
    showArticleList, previewArticle, showAddArticleForm, addArticle, showUpdateArticleForm,
    updateArticle, publishArticle, unpublishArticle, deleteArticle
} = require('../../controllers/user/article.controller');


router.get('/articles', checkAuthenticatedAuthor, showArticleList);

router.get('/articles/preview/:articleId', checkAuthenticatedAuthor, previewArticle);

router.get('/articles/add', checkAuthenticatedAuthor, showAddArticleForm);

router.post('/articles/add', checkAuthenticatedAuthor, addArticle);

router.get("/articles/update/:articleId", checkAuthenticatedAuthor, showUpdateArticleForm);

router.post("/articles/update/:articleId", checkAuthenticatedAuthor, updateArticle);

router.post("/articles/publish", checkAuthenticatedAuthor, publishArticle);

router.post("/articles/unpublish", checkAuthenticatedAuthor, unpublishArticle);

router.post("/articles/delete/", checkAuthenticatedAuthor, deleteArticle);

module.exports = router;