<h4 class="header-title">Update Form</h4>
<p class="card-title-desc">Submit the <code>SAVE</code> button to make changes.</p>

<form action="/admin/authors/update/<%= author.username %>" method="POST" class="needs-validation" novalidate>
    <div class="form-group row">
        <label for="username" class="col-md-2 col-form-label">Username</label>
        <div class="col-md-10">
            <% if (typeof errors !== 'undefined') { %>
            <% errors.forEach( (error) => { %>
            <% if (error.param === 'username') { %>
            <input type="text" class="form-control is-invalid" value="<%= error.value %>" name="username" id="username"
                placeholder="Enter Username" required>
            <div class="invalid-feedback">
                <%= error.msg %>
            </div>
            <% } %>
            <% }) %>
            <% } %>

            <% if (typeof validInput !== 'undefined' && typeof validInput.username !== 'undefined') { %>
            <input type="text" class="form-control is-valid" name="username" id="username"
                value="<%= validInput.username %>" placeholder="Enter Username" required>
            <% } %>

            <% if (typeof errors === 'undefined' && typeof validInput === 'undefined') { %>
            <input type="text" class="form-control" name="username" id="username" value="<%= author.username %>"
                placeholder="Enter Username" required>
            <% } %>
        </div>
    </div>
    <div class="form-group row">
        <label for="email" class="col-md-2 col-form-label">Email</label>
        <div class="col-md-10">

            <% if (typeof errors !== 'undefined') { %>
            <% errors.forEach( (error) => { %>
            <% if (error.param === 'email') { %>
            <input type="email" class="form-control is-invalid" name="email" id="email" value="<%= error.value %>"
                placeholder="Enter Email" required>
            <div class="invalid-feedback">
                <%= error.msg %>
            </div>
            <% } %>
            <% }) %>
            <% } %>

            <% if (typeof validInput !== 'undefined' && typeof validInput.email !== 'undefined') { %>
            <input type="text" class="form-control is-valid" name="email" id="email" value="<%= validInput.email %>"
                placeholder="Enter Email" required>
            <% } %>

            <% if (typeof validInput === 'undefined' && typeof errors === 'undefined') { %>
            <input type="text" class="form-control" value="<%= author.email %>" name="email" id="email"
                placeholder="Enter Email" required>
            <% } %>
        </div>
    </div>

    <div class="form-group row">
        <label for="status" class="col-md-2 col-form-label">Status</label>
        <div class="col-md-10">
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <% if (author) { %>
                <%  if (author.status === 'Activated') { %>
                <label class="btn btn-success active">
                    <input type="radio" name="options" id="activated_status_btn" checked="" value="<%= author.status %>"
                        disabled><i class="mdi mdi-check-circle"></i> <%= author.status %>
                </label>
                <% }else if(author.status === 'Deactivated') { %>
                <label class="btn btn-secondary active">
                    <input type="radio" name="options" id="deactivated_status_btn" checked=""
                        value="<%= author.status %>" disabled><i class="mdi mdi-block-helper"></i> <%= author.status %>
                </label>
                <% } %>
                <% } %>
            </div>
        </div>
    </div>
    <div class="row mb-0">
        <div class="col-lg-12">
            <div class="text-right">
                <button type="submit" class="btn btn-primary">SAVE</button>
            </div>
        </div>
    </div>
</form>